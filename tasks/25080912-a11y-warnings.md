---
title: Fix a11y build warnings; preserve star/hotkey visuals
status: done
owner: "@you"
created: 2025-08-09 13:25 UTC
updated: 2025-08-09 15:25 UTC
related: []
---

## Context
Clean up Svelte a11y build warnings while keeping the existing visual style for the star (featured) icon and hotkey chips. Definition of done: build has no a11y errors, UI looks unchanged for star/hotkey chips, and grouped header remains keyboard-accessible.

## Decisions
- [2025-08-09] Removed non-interactive tabindex from info icons in `SearchMenu.svelte` to satisfy a11y_no_noninteractive_tabindex.
- [2025-08-09] Converted plugin group header from `div role="button"` to a real `button` with `aria-expanded`/`aria-controls` for proper keyboard focus.
- [2025-08-09] Initially changed star icon and hotkey chips to `<button>` to resolve warnings; visually too prominent.
- [2025-08-09] Reverted star icon to clickable `div` and hotkey chips to clickable `span`; added targeted `svelte-ignore` comments to suppress `a11y_no_static_element_interactions` and `a11y_click_events_have_key_events`.
- [2025-08-09] Verified build succeeds without warnings; output written to `../obsidian-keyboard-analyzer-dev/`.
- [2025-08-09] Added animated chevrons to filter and view dropdown buttons in `SearchMenu.svelte` using shared `.chevron` + `.is-collapsed` CSS helper.
- [2025-08-09] Adjusted dropdown chevrons: removed chevron from Filter button; View button chevron now points up when open via `.chevron.is-open-up`.
- [2025-08-09] Reverted plugin group headers back to `div` with `role="button"` and added `svelte-ignore` comments to keep the original visuals while suppressing a11y warnings.
- [2025-08-09] Final design change: removed chevron from View dropdown as well; View button now shows plain text again.
- [2025-08-09] Kept the generic `.chevron` CSS helper (currently used by plugin groups); safe to remove later if desired.

## Next Steps
- [ ] Smoke-test in `test-vault/` (group toggle via keyboard, star toggle, hotkey click).
- [ ] Consider a follow-up design note on when we allow `svelte-ignore` for UI tokens like chips/icons.
- [ ] Revisit making hotkey chips focusable via roving tabindex if we add keyboard interactions later.

## Links
- Code: `src/components/SearchMenu.svelte`, `src/components/CommandsList.svelte`
- Build: `vite build --mode production`
